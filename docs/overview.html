<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>4. Neon Overview &mdash; Neon 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Neon 1.0 documentation" href="index.html" />
    <link rel="next" title="5. Language Reference" href="reference/index.html" />
    <link rel="prev" title="3. Tutorial" href="tutorial.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="neon-overview">
<h1>4. Neon Overview<a class="headerlink" href="#neon-overview" title="Permalink to this headline">¶</a></h1>
<p>The following is a brief description of Neon for experienced programmers.
There are plenty of examples, because experienced programmers know how to read code, and can pick up concepts more quickly by reading code than by reading a description of code.</p>
<p>Neon is a statically typed imperative language, with roots in Pascal, Modula-2, Ada, and <a class="reference external" href="/motivation.html">others</a>.
Program structure and modules are influenced by Python.</p>
<div class="highlight-neon"><div class="highlight"><pre><span class="c1">-- This sample program greets the user</span>
<span class="c1">-- until an empty line is entered.</span>

<span class="k">IMPORT</span> <span class="n">console</span>

<span class="k">LOOP</span>
    <span class="k">LET</span> <span class="n">name</span><span class="o">:</span> <span class="n">String</span> <span class="o">:=</span> <span class="n">console</span><span class="o">.</span><span class="n">input</span><span class="o">(</span><span class="s">&quot;What is your name? &quot;</span><span class="o">)</span>
    <span class="k">IF</span> <span class="n">name</span> <span class="o">=</span> <span class="s">&quot;&quot;</span> <span class="k">THEN</span>
        <span class="k">EXIT</span> <span class="k">LOOP</span>
    <span class="k">END</span> <span class="k">IF</span>
    <span class="n">print</span><span class="o">(</span><span class="s">&quot;Hello, \(name).&quot;</span><span class="o">)</span>
<span class="k">END</span> <span class="k">LOOP</span>
</pre></div>
</div>
<div class="section" id="general">
<h2>4.1. General<a class="headerlink" href="#general" title="Permalink to this headline">¶</a></h2>
<p>All identifiers are case sensitive.
Language defined keywords are all upper case.
Semicolons are not used.
Identifier scope is defined by program block structure.
Assignments have value semantics (deep copy).
Forward declarations are not required.
All variables must be explicitly initialised before use.</p>
</div>
<div class="section" id="types">
<h2>4.2. Types<a class="headerlink" href="#types" title="Permalink to this headline">¶</a></h2>
<p>The scalar types are:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">Boolean</span></code> (<code class="docutils literal"><span class="pre">TRUE</span></code> or <code class="docutils literal"><span class="pre">FALSE</span></code>)</li>
<li><code class="docutils literal"><span class="pre">Number</span></code> (decimal floating point)</li>
<li><code class="docutils literal"><span class="pre">String</span></code> (Unicode text)</li>
<li><code class="docutils literal"><span class="pre">Bytes</span></code> (arbitrary blocks of bytes)</li>
<li>enumerations (named values)</li>
</ul>
<p>Aggregate types are:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">RECORD</span></code> (named fields)</li>
<li><code class="docutils literal"><span class="pre">CLASS</span></code> (dynamically allocated objects)</li>
<li><code class="docutils literal"><span class="pre">Array</span></code> (arbitrary size vector)</li>
<li><code class="docutils literal"><span class="pre">Dictionary</span></code> (map indexed by a <code class="docutils literal"><span class="pre">String</span></code> key)</li>
</ul>
<p>There is a dynamic <code class="docutils literal"><span class="pre">Object</span></code> type which can hold values of any of the concrete types.</p>
<div class="highlight-neon"><div class="highlight"><pre><span class="k">VAR</span> <span class="n">x</span><span class="o">:</span> <span class="n">Object</span>
<span class="n">x</span> <span class="o">:=</span> <span class="m">5</span>
<span class="n">print</span><span class="o">(</span><span class="n">str</span><span class="o">(</span><span class="n">x</span><span class="o">))</span>
<span class="n">x</span> <span class="o">:=</span> <span class="s">&quot;hello&quot;</span>
<span class="n">print</span><span class="o">(</span><span class="n">x</span><span class="o">)</span>
</pre></div>
</div>
<p>Dynamic heap allocation is supported by a <code class="docutils literal"><span class="pre">POINTER</span></code> type.</p>
<div class="highlight-neon"><div class="highlight"><pre><span class="k">TYPE</span> <span class="n">Colour</span> <span class="k">IS</span> <span class="k">ENUM</span>
    <span class="n">red</span>
    <span class="n">green</span>
    <span class="n">blue</span>
<span class="k">END</span> <span class="k">ENUM</span>

<span class="k">TYPE</span> <span class="n">Person</span> <span class="k">IS</span> <span class="k">RECORD</span>
    <span class="n">name</span><span class="o">:</span> <span class="n">String</span>
    <span class="n">eyes</span><span class="o">:</span> <span class="n">Colour</span>
<span class="k">END</span> <span class="k">RECORD</span>

<span class="k">TYPE</span> <span class="n">Node</span> <span class="k">IS</span> <span class="k">CLASS</span>
    <span class="n">value</span><span class="o">:</span> <span class="n">String</span>
    <span class="n">next</span><span class="o">:</span> <span class="k">POINTER</span> <span class="k">TO</span> <span class="n">Node</span>
<span class="k">END</span> <span class="k">CLASS</span>

<span class="k">LET</span> <span class="n">b</span><span class="o">:</span> <span class="n">Boolean</span> <span class="o">:=</span> <span class="k">TRUE</span>
<span class="k">LET</span> <span class="n">n</span><span class="o">:</span> <span class="n">Number</span> <span class="o">:=</span> <span class="m">123.456</span>
<span class="k">LET</span> <span class="n">s</span><span class="o">:</span> <span class="n">String</span> <span class="o">:=</span> <span class="s">&quot;Hello world&quot;</span>
<span class="k">LET</span> <span class="n">y</span><span class="o">:</span> <span class="n">Bytes</span> <span class="o">:=</span> <span class="k">HEXBYTES</span> <span class="s">&quot;00 01 02 03&quot;</span>
<span class="k">LET</span> <span class="n">e</span><span class="o">:</span> <span class="n">Colour</span> <span class="o">:=</span> <span class="n">Colour</span><span class="o">.</span><span class="n">green</span>
<span class="k">LET</span> <span class="n">r</span><span class="o">:</span> <span class="n">Person</span> <span class="o">:=</span> <span class="n">Person</span><span class="o">(</span><span class="n">name</span> <span class="k">WITH</span> <span class="s">&quot;Alice&quot;</span><span class="o">,</span> <span class="n">eyes</span> <span class="k">WITH</span> <span class="n">Colour</span><span class="o">.</span><span class="n">green</span><span class="o">)</span>
<span class="k">LET</span> <span class="n">a</span><span class="o">:</span> <span class="n">Array</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="o">:=</span> <span class="o">[</span><span class="s">&quot;fork&quot;</span><span class="o">,</span> <span class="s">&quot;knife&quot;</span><span class="o">,</span> <span class="s">&quot;spoon&quot;</span><span class="o">]</span>
<span class="k">LET</span> <span class="n">d</span><span class="o">:</span> <span class="n">Dictionary</span><span class="o">&lt;</span><span class="n">Number</span><span class="o">&gt;</span> <span class="o">:=</span> <span class="o">{</span><span class="s">&quot;fork&quot;</span><span class="o">:</span> <span class="m">5</span><span class="o">,</span> <span class="s">&quot;knife&quot;</span><span class="o">:</span> <span class="m">6</span><span class="o">,</span> <span class="s">&quot;spoon&quot;</span><span class="o">:</span> <span class="m">1</span><span class="o">}</span>
<span class="k">LET</span> <span class="n">p</span><span class="o">:</span> <span class="k">POINTER</span> <span class="k">TO</span> <span class="n">Node</span> <span class="o">:=</span> <span class="k">NEW</span> <span class="n">Node</span><span class="o">(</span><span class="n">value</span> <span class="k">WITH</span> <span class="s">&quot;green&quot;</span><span class="o">)</span>
</pre></div>
</div>
</div>
<div class="section" id="expressions">
<h2>4.3. Expressions<a class="headerlink" href="#expressions" title="Permalink to this headline">¶</a></h2>
<p>There is a rich expression syntax including arithmetic, array slicing, conditionals, and string interpolation.</p>
<div class="highlight-neon"><div class="highlight"><pre><span class="k">LET</span> <span class="n">x</span><span class="o">:</span> <span class="n">Number</span> <span class="o">:=</span> <span class="m">5</span>
<span class="k">LET</span> <span class="n">y</span><span class="o">:</span> <span class="n">Number</span> <span class="o">:=</span> <span class="o">(</span><span class="m">6</span> <span class="o">+</span> <span class="n">x</span><span class="o">)</span> <span class="o">/</span> <span class="m">2</span>
<span class="k">ASSERT</span> <span class="n">y</span> <span class="o">=</span> <span class="m">5.5</span>

<span class="k">LET</span> <span class="n">a</span><span class="o">:</span> <span class="n">Array</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="o">:=</span> <span class="o">[</span><span class="s">&quot;fork&quot;</span><span class="o">,</span> <span class="s">&quot;knife&quot;</span><span class="o">,</span> <span class="s">&quot;spoon&quot;</span><span class="o">]</span>
<span class="k">ASSERT</span> <span class="n">a</span><span class="o">[</span><span class="m">1</span> <span class="k">TO</span> <span class="k">LAST</span><span class="o">]</span> <span class="o">=</span> <span class="o">[</span><span class="s">&quot;knife&quot;</span><span class="o">,</span> <span class="s">&quot;spoon&quot;</span><span class="o">]</span>

<span class="k">LET</span> <span class="n">r</span><span class="o">:</span> <span class="n">String</span> <span class="o">:=</span> <span class="o">(</span><span class="k">IF</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="m">5</span> <span class="k">THEN</span> <span class="s">&quot;small&quot;</span> <span class="k">ELSE</span> <span class="s">&quot;big&quot;</span><span class="o">)</span>
<span class="k">ASSERT</span> <span class="n">r</span> <span class="o">=</span> <span class="s">&quot;big&quot;</span>

<span class="k">LET</span> <span class="n">t</span><span class="o">:</span> <span class="n">String</span> <span class="o">:=</span> <span class="s">&quot;y is a \(r) value&quot;</span>
<span class="k">ASSERT</span> <span class="n">t</span> <span class="o">=</span> <span class="s">&quot;y is a big value&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="statements">
<h2>4.4. Statements<a class="headerlink" href="#statements" title="Permalink to this headline">¶</a></h2>
<p>There are two variable declarations: <code class="docutils literal"><span class="pre">LET</span></code> (read-only value), and <code class="docutils literal"><span class="pre">VAR</span></code> (modifiable value).</p>
<div class="highlight-neon"><div class="highlight"><pre><span class="k">LET</span> <span class="n">a</span><span class="o">:</span> <span class="n">Number</span> <span class="o">:=</span> <span class="m">5</span>

<span class="k">VAR</span> <span class="n">b</span><span class="o">:</span> <span class="n">Number</span>
<span class="n">b</span> <span class="o">:=</span> <span class="n">a</span>
<span class="n">b</span> <span class="o">:=</span> <span class="m">6</span>

<span class="n">print</span><span class="o">(</span><span class="s">&quot;\(a), \(b)&quot;</span><span class="o">)</span>
</pre></div>
</div>
<p>There are two conditional blocks: <code class="docutils literal"><span class="pre">CASE</span></code> (multiple branches), and <code class="docutils literal"><span class="pre">IF</span></code> (single test).</p>
<div class="highlight-neon"><div class="highlight"><pre><span class="k">FOR</span> <span class="n">a</span> <span class="o">:=</span> <span class="m">0</span> <span class="k">TO</span> <span class="m">9</span> <span class="k">DO</span>
    <span class="k">VAR</span> <span class="n">s</span><span class="o">:</span> <span class="n">String</span>
    <span class="k">CASE</span> <span class="n">a</span>
        <span class="k">WHEN</span> <span class="o">&lt;</span> <span class="m">2</span> <span class="k">DO</span>
            <span class="n">s</span> <span class="o">:=</span> <span class="s">&quot;less than two&quot;</span>
        <span class="k">WHEN</span> <span class="m">2</span> <span class="k">DO</span>
            <span class="n">s</span> <span class="o">:=</span> <span class="s">&quot;two&quot;</span>
        <span class="k">WHEN</span> <span class="m">3</span> <span class="k">TO</span> <span class="m">5</span> <span class="k">DO</span>
            <span class="n">s</span> <span class="o">:=</span> <span class="s">&quot;three to five&quot;</span>
        <span class="k">WHEN</span> <span class="m">7</span><span class="o">,</span> <span class="m">9</span> <span class="k">DO</span>
            <span class="n">s</span> <span class="o">:=</span> <span class="s">&quot;seven or nine&quot;</span>
        <span class="k">WHEN</span> <span class="k">OTHERS</span> <span class="k">DO</span>
            <span class="n">s</span> <span class="o">:=</span> <span class="s">&quot;something else&quot;</span>
    <span class="k">END</span> <span class="k">CASE</span>
    <span class="n">print</span><span class="o">(</span><span class="s">&quot;\(a) is \(s)&quot;</span><span class="o">)</span>
<span class="k">END</span> <span class="k">FOR</span>

<span class="k">IMPORT</span> <span class="n">random</span>
<span class="k">IF</span> <span class="n">random</span><span class="o">.</span><span class="n">uint32</span><span class="o">()</span> <span class="o">&lt;</span> <span class="m">10</span> <span class="k">THEN</span>
    <span class="n">print</span><span class="o">(</span><span class="s">&quot;small&quot;</span><span class="o">)</span>
<span class="k">END</span> <span class="k">IF</span>
</pre></div>
</div>
<p>There are four kinds of loops: <code class="docutils literal"><span class="pre">FOR</span></code> (bounded iteration), <code class="docutils literal"><span class="pre">LOOP</span></code> (infinite loop), <code class="docutils literal"><span class="pre">REPEAT</span></code> (bottom-tested condition), and <code class="docutils literal"><span class="pre">WHILE</span></code> (top-tested condition).
The <code class="docutils literal"><span class="pre">EXIT</span></code> and <code class="docutils literal"><span class="pre">NEXT</span></code> statements branch out of the loop or to the next iteration, respectively.</p>
<div class="highlight-neon"><div class="highlight"><pre><span class="k">FOR</span> <span class="n">i</span> <span class="o">:=</span> <span class="m">1</span> <span class="k">TO</span> <span class="m">10</span> <span class="k">DO</span>
    <span class="n">print</span><span class="o">(</span><span class="s">&quot;\(i)&quot;</span><span class="o">)</span>
<span class="k">END</span> <span class="k">FOR</span>

<span class="k">VAR</span> <span class="n">a</span><span class="o">:</span> <span class="n">Number</span> <span class="o">:=</span> <span class="m">1</span>
<span class="k">LOOP</span>
    <span class="n">print</span><span class="o">(</span><span class="s">&quot;\(a)&quot;</span><span class="o">)</span>
    <span class="k">IF</span> <span class="n">a</span> <span class="o">=</span> <span class="m">10</span> <span class="k">THEN</span>
        <span class="k">EXIT</span> <span class="k">LOOP</span>
    <span class="k">END</span> <span class="k">IF</span>
    <span class="k">INC</span> <span class="n">a</span>
<span class="k">END</span> <span class="k">LOOP</span>

<span class="n">a</span> <span class="o">:=</span> <span class="m">1</span>
<span class="k">REPEAT</span>
    <span class="n">print</span><span class="o">(</span><span class="s">&quot;\(a)&quot;</span><span class="o">)</span>
    <span class="k">INC</span> <span class="n">a</span>
<span class="k">UNTIL</span> <span class="n">a</span> <span class="o">=</span> <span class="m">10</span>

<span class="n">a</span> <span class="o">:=</span> <span class="m">1</span>
<span class="k">WHILE</span> <span class="n">a</span> <span class="o">&lt;=</span> <span class="m">10</span> <span class="k">DO</span>
    <span class="n">print</span><span class="o">(</span><span class="s">&quot;\(a)&quot;</span><span class="o">)</span>
    <span class="k">INC</span> <span class="n">a</span>
<span class="k">END</span> <span class="k">WHILE</span>
</pre></div>
</div>
<p>The exception handling statements are <code class="docutils literal"><span class="pre">TRY</span></code> (introduces a new handling scope), and <code class="docutils literal"><span class="pre">RAISE</span></code> to raise an exception.</p>
<div class="highlight-neon"><div class="highlight"><pre><span class="k">EXCEPTION</span> <span class="n">PrinterOutOfPaperException</span>

<span class="k">FUNCTION</span> <span class="n">printFile</span><span class="o">(</span><span class="n">name</span><span class="o">:</span> <span class="n">String</span><span class="o">)</span>
    <span class="c1">-- Save the trees, don&#39;t print anything.</span>
    <span class="k">RAISE</span> <span class="n">PrinterOutOfPaperException</span>
<span class="k">END</span> <span class="k">FUNCTION</span>

<span class="k">TRY</span>
    <span class="n">printFile</span><span class="o">(</span><span class="s">&quot;hello.txt&quot;</span><span class="o">)</span>
<span class="k">TRAP</span> <span class="n">PrinterOutOfPaperException</span> <span class="k">DO</span>
    <span class="n">print</span><span class="o">(</span><span class="s">&quot;Sorry, out of paper.&quot;</span><span class="o">)</span>
<span class="k">END</span> <span class="k">TRY</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">ASSERT</span></code> statement is used to check program invariants.
Execution stops with a diagnostic dump if the condition is not satisfied.</p>
<div class="highlight-neon"><div class="highlight"><pre><span class="k">FUNCTION</span> <span class="n">setRatio</span><span class="o">(</span><span class="n">percent</span><span class="o">:</span> <span class="n">Number</span><span class="o">)</span>
    <span class="k">ASSERT</span> <span class="m">0</span> <span class="o">&lt;=</span> <span class="n">percent</span> <span class="o">&lt;=</span> <span class="m">100</span>
    <span class="c1">-- ... use percent value</span>
<span class="k">END</span> <span class="k">FUNCTION</span>
</pre></div>
</div>
</div>
<div class="section" id="functions">
<h2>4.5. Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<p>Functions may or may not return a value.
If a function returns a value, then the return value cannot be silently ignored by the caller.
Function parameters can be <code class="docutils literal"><span class="pre">IN</span></code> (default), <code class="docutils literal"><span class="pre">OUT</span></code> (passed back to caller), or <code class="docutils literal"><span class="pre">INOUT</span></code> (references caller value).</p>
<div class="highlight-neon"><div class="highlight"><pre><span class="k">IMPORT</span> <span class="n">string</span>

<span class="k">FUNCTION</span> <span class="n">func</span><span class="o">(</span><span class="n">name</span><span class="o">:</span> <span class="n">String</span><span class="o">,</span> <span class="k">OUT</span> <span class="n">result</span><span class="o">:</span> <span class="n">String</span><span class="o">,</span> <span class="k">INOUT</span> <span class="n">count</span><span class="o">:</span> <span class="n">Number</span><span class="o">)</span>
    <span class="n">result</span> <span class="o">:=</span> <span class="n">string</span><span class="o">.</span><span class="n">upper</span><span class="o">(</span><span class="n">name</span><span class="o">)</span>
    <span class="k">INC</span> <span class="n">count</span>
<span class="k">END</span> <span class="k">FUNCTION</span>

<span class="k">VAR</span> <span class="n">uname</span><span class="o">:</span> <span class="n">String</span>
<span class="k">VAR</span> <span class="n">n</span><span class="o">:</span> <span class="n">Number</span> <span class="o">:=</span> <span class="m">0</span>

<span class="c1">-- The parameter mode (if not IN) must be explicitly indicated</span>
<span class="c1">-- on the function call.</span>
<span class="n">func</span><span class="o">(</span><span class="s">&quot;charlie&quot;</span><span class="o">,</span> <span class="k">OUT</span> <span class="n">uname</span><span class="o">,</span> <span class="k">INOUT</span> <span class="n">n</span><span class="o">)</span>

<span class="c1">-- The caller may choose to pass parameters in a different</span>
<span class="c1">-- order using the WITH keyword.</span>
<span class="n">func</span><span class="o">(</span><span class="s">&quot;charlie&quot;</span><span class="o">,</span> <span class="k">INOUT</span> <span class="n">count</span> <span class="k">WITH</span> <span class="n">n</span><span class="o">,</span> <span class="k">OUT</span> <span class="n">result</span> <span class="k">WITH</span> <span class="n">uname</span><span class="o">)</span>

<span class="k">ASSERT</span> <span class="n">uname</span> <span class="o">=</span> <span class="s">&quot;CHARLIE&quot;</span>
<span class="k">ASSERT</span> <span class="n">n</span> <span class="o">=</span> <span class="m">2</span>
</pre></div>
</div>
</div>
<div class="section" id="methods">
<h2>4.6. Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<p>Records and classes may have methods attached to them, to be called with the usual method syntax.</p>
<div class="highlight-neon"><div class="highlight"><pre><span class="k">TYPE</span> <span class="n">Rectangle</span> <span class="k">IS</span> <span class="k">RECORD</span>
    <span class="n">width</span><span class="o">:</span> <span class="n">Number</span>
    <span class="n">height</span><span class="o">:</span> <span class="n">Number</span>
<span class="k">END</span> <span class="k">RECORD</span>

<span class="k">FUNCTION</span> <span class="n">Rectangle</span><span class="o">.</span><span class="n">area</span><span class="o">(</span><span class="n">self</span><span class="o">:</span> <span class="n">Rectangle</span><span class="o">):</span> <span class="n">Number</span>
    <span class="k">RETURN</span> <span class="n">self</span><span class="o">.</span><span class="n">width</span> <span class="o">*</span> <span class="n">self</span><span class="o">.</span><span class="n">height</span>
<span class="k">END</span> <span class="k">FUNCTION</span>

<span class="k">FUNCTION</span> <span class="n">Rectangle</span><span class="o">.</span><span class="n">expand</span><span class="o">(</span><span class="k">INOUT</span> <span class="n">self</span><span class="o">:</span> <span class="n">Rectangle</span><span class="o">,</span> <span class="n">edge</span><span class="o">:</span> <span class="n">Number</span><span class="o">)</span>
    <span class="n">self</span><span class="o">.</span><span class="n">width</span> <span class="o">:=</span> <span class="n">self</span><span class="o">.</span><span class="n">width</span> <span class="o">+</span> <span class="m">2</span> <span class="o">*</span> <span class="n">edge</span>
    <span class="n">self</span><span class="o">.</span><span class="n">height</span> <span class="o">:=</span> <span class="n">self</span><span class="o">.</span><span class="n">height</span> <span class="o">+</span> <span class="m">2</span> <span class="o">*</span> <span class="n">edge</span>
<span class="k">END</span> <span class="k">FUNCTION</span>

<span class="k">LET</span> <span class="n">r</span><span class="o">:</span> <span class="n">Rectangle</span> <span class="o">:=</span> <span class="n">Rectangle</span><span class="o">(</span><span class="n">width</span> <span class="k">WITH</span> <span class="m">4</span><span class="o">,</span> <span class="n">height</span> <span class="k">WITH</span> <span class="m">5</span><span class="o">)</span>
<span class="k">ASSERT</span> <span class="n">r</span><span class="o">.</span><span class="n">area</span><span class="o">()</span> <span class="o">=</span> <span class="m">20</span>
<span class="n">r</span><span class="o">.</span><span class="n">expand</span><span class="o">(</span><span class="m">1</span><span class="o">)</span>
<span class="k">ASSERT</span> <span class="n">r</span><span class="o">.</span><span class="n">area</span><span class="o">()</span> <span class="o">=</span> <span class="m">42</span>
</pre></div>
</div>
</div>
<div class="section" id="pointers">
<h2>4.7. Pointers<a class="headerlink" href="#pointers" title="Permalink to this headline">¶</a></h2>
<p>Pointers can only point to classes.
Pointers are declared with <code class="docutils literal"><span class="pre">POINTER</span> <span class="pre">TO</span></code> and allocated with <code class="docutils literal"><span class="pre">NEW</span></code>.</p>
<div class="highlight-neon"><div class="highlight"><pre><span class="k">TYPE</span> <span class="n">Person</span> <span class="k">IS</span> <span class="k">CLASS</span>
    <span class="n">name</span><span class="o">:</span> <span class="n">String</span>
    <span class="n">age</span><span class="o">:</span> <span class="n">Number</span>
<span class="k">END</span> <span class="k">CLASS</span>

<span class="k">LET</span> <span class="n">p</span><span class="o">:</span> <span class="k">POINTER</span> <span class="k">TO</span> <span class="n">Person</span> <span class="o">:=</span> <span class="k">NEW</span> <span class="n">Person</span>
<span class="n">p</span><span class="o">-&gt;</span><span class="n">name</span> <span class="o">:=</span> <span class="s">&quot;Alice&quot;</span>
<span class="n">p</span><span class="o">-&gt;</span><span class="n">age</span> <span class="o">:=</span> <span class="m">23</span>
</pre></div>
</div>
<p>Pointers must be checked for validity (non-NIL) before they can be used using the <code class="docutils literal"><span class="pre">IF</span> <span class="pre">VALID</span></code> block.</p>
<div class="highlight-neon"><div class="highlight"><pre><span class="k">TYPE</span> <span class="n">Person</span> <span class="k">IS</span> <span class="k">CLASS</span>
    <span class="n">name</span><span class="o">:</span> <span class="n">String</span>
    <span class="n">age</span><span class="o">:</span> <span class="n">Number</span>
<span class="k">END</span> <span class="k">CLASS</span>

<span class="k">FUNCTION</span> <span class="n">incrementAge</span><span class="o">(</span><span class="n">p</span><span class="o">:</span> <span class="k">POINTER</span> <span class="k">TO</span> <span class="n">Person</span><span class="o">)</span>
    <span class="k">IF</span> <span class="k">VALID</span> <span class="n">p</span> <span class="k">THEN</span>
        <span class="k">INC</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">age</span>
    <span class="k">END</span> <span class="k">IF</span>
<span class="k">END</span> <span class="k">FUNCTION</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Neon</a></h1>





<p>
<iframe src="https://ghbtns.com/github-btn.html?user=&repo=&type=watch&count=true&size=large"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>




<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="manifesto.html">2. Manifesto</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">3. Tutorial</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">4. Overview (for experienced programmers)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#general">4.1. General</a></li>
<li class="toctree-l2"><a class="reference internal" href="#types">4.2. Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="#expressions">4.3. Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#statements">4.4. Statements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#functions">4.5. Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#methods">4.6. Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pointers">4.7. Pointers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="reference/index.html">5. Language Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="library.html">6. Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="extensions.html">7. Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="samples.html">8. Samples</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="tutorial.html" title="previous chapter">3. Tutorial</a></li>
      <li>Next: <a href="reference/index.html" title="next chapter">5. Language Reference</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Greg Hewgill.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.7</a>
      
      |
      <a href="_sources/overview.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>